<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="coder">
<meta property="og:type" content="website">
<meta property="og:title" content="Walnut code">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Walnut code">
<meta property="og:description" content="coder">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Walnut code">
<meta name="twitter:description" content="coder">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/"/>


  <title> Walnut code </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?ec7a3a75cdba2742c2bbf191075f4834";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Walnut code</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/20/ISO-OSI/" itemprop="url">
                  ISO/OSI参考模型（转）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-20T15:15:21+08:00" content="2016-12-20">
              2016-12-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/网络基础/" itemprop="url" rel="index">
                    <span itemprop="name">网络基础</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/20/ISO-OSI/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/20/ISO-OSI/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>OSI （ Open System Interconnect ），即开放式系统互联。 一般都叫 OSI 参考模型，是 ISO （国际标准化组织）组织在 1985 年研究的网络互联模型。该体系结构标准定义了网络互连的七层框架（物理层、数据链路层、网络层、传输层、会话层、表示层和应用层），即 ISO 开放系统互连参考模型。在这一框架下进一步详细规定了每一层的功能，以实现开放系统环境中的互连性、互操作性和应用的可移植性。<br>ISO 为了更好的使网络应用更为普及，就推出了 OSI 参考模型。其含义就是推荐所有公司使用这个规范来控制网络。这样所有公司都有相同的规范，就能互联了。提供各种网络服务功能的计算机网络系统是非常复杂的。根据分而治之的原则， ISO 将整个通信功能划分为七个层次，划分原则是：<br>（ 1 ）网路中各节点都有相同的层次；<br>（ 2 ）不同节点的同等层具有相同的功能；<br>（ 3 ）同一节点内相邻层之间通过接口通信；<br>（ 4 ）每一层使用下层提供的服务，并向其上层提供服务；<br>（ 5 ）不同节点的同等层按照协议实现对等层之间的通信。</p>
<p>分层的好处是利用层次结构可以把开放系统的信息交换问题分解到一系列容易控制的软硬件模块－层中，而各层可以根据需要独立进行修改或扩充功能，同时，有利于个不同制造厂家的设备互连，也有利于大家学习、理解数据通讯网络。<br>OSI 参考模型中不同层完成不同的功能，各层相互配合通过标准的接口进行通信。<br>第 7 层应用层： OSI 中的最高层。 为特定类型的网络应用提供了访问 OSI 环境的手段。应用层确定进程之间通信的性质，以满足用户的需要。应用层不仅要提供应用进程所需要的信息交换和远程操作，而且还要作为应用进程的用户代理，来完成一些为进行信息交换所必需的功能。它包括：文件传送访问和管理 FTAM 、虚拟终端 VT 、事务处理 TP 、远程数据库访问 RDA 、制造报文规范 MMS 、目录服务 DS 等协议；应用层能与应用程序界面沟通，以达到展示给用户的目的。 在此常见的协议有 :HTTP ， HTTPS ， FTP ， TELNET ， SSH ， SMTP ， POP3 等。<br>第 6 层表示层：主要用于处理两个通信系统中交换信息的表示方式。 为上层用户解决用户信息的语法问题。它包括数据格式交换、数据加密与解密、数据压缩与终端类型的转换。<br>第 5 层会话层：在两个节点之间建立端连接。 为端系统的应用程序之间提供了对话控制机制。此服务包括建立连接是以全双工还是以半双工的方式进行设置，尽管可以在层 4 中处理双工方式 ；会话层管理登入和注销过程。它具体管理两个用户和进程之间的对话。如果在某一时刻只允许一个用户执行一项特定的操作，会话层协议就会管理这些操作，如阻止两个用户同时更新数据库中的同一组数据。<br>第 4 层传输层：—常规数据递送－面向连接或无连接。 为会话层用户提供一个端到端的可靠、透明和优化的数据传输服务机制。包括全双工或半双工、流控制和错误恢复服务；传输层把消息分成若干个分组，并在接收端对它们进行重组。不同的分组可以通过不同的连接传送到主机。这样既能获得较高的带宽，又不影响会话层。在建立连接时传输层可以请求服务质量，该服务质量指定可接受的误码率、延迟量、安全性等参数，还可以实现基于端到端的流量控制功能。<br>第 3 层网络层：本层通过寻址来建立两个节点之间的连接，为源端的运输层送来的分组，选择合适的路由和交换节点，正确无误地按照地址传送给目的端的运输层。 它包括通过互连网络来路由和中继数据 ；除了选择路由之外，网络层还负责建立和维护连接，控制网络上的拥塞以及在必要的时候生成计费信息。常用设备有交换机；<br>第 2 层数据链路层：在此层将数据分帧，并处理流控制。 屏蔽物理层，为网络层提供一个数据链路的连接，在一条有可能出差错的物理连接上，进行几乎无差错的数据传输（差错控制）。本层指定拓扑结构并提供硬件寻址。常用设备有网卡、网桥、交换机；<br>第 1 层物理层：处于 OSI 参考模型的最底层。 物理层的主要功能是利用物理传输介质为数据链路层提供物理连接，以便透明的传送比特流。常用设备有（各种物理设备）集线器、中继器、调制解调器、网线、双绞线、同轴电缆。<br>数据发送时，从第七层传到第一层，接收数据则相反。<br>上三层总称应用层，用来控制软件方面。下四层总称数据流层，用来管理硬件。除了物理层之外其他层都是用软件实现的。<br>数据在发至数据流层的时候将被拆分。<br>在传输层的数据叫段，网络层叫包，数据链路层叫帧，物理层叫比特流，这样的叫法叫 PDU （协议数据单元）<br>各层功能详述<br>(1) 物理层 (Physical Layer)<br>物理层是 OSI 参考模型的最低层，它利用传输介质为数据链路层提供物理连接。它主要关心的是通过物理链路从一个节点向另一个节点传送比特流，物理链路可能是铜线、卫星、微波或其他的通讯媒介。它关心的问题有：多少伏电压代表 1 ？多少伏电压代表 0 ？时钟速率是多少？采用全双工还是半双工传输？总的来说物理层关心的是链路的机械、电气、功能和规程特性。<br>(2) 数据链路层 (Data Link Layer)<br>数据链路层是为网络层提供服务的，解决两个相邻结点之间的通信问题，传送的协议数据单元称为数据帧。<br>数据帧中包含物理地址（又称 MAC 地址）、控制码、数据及校验码等信息。该层的主要作用是通过校验、确认和反馈重发等手段，将不可靠的物理链路转换成对网络层来说无差错的数据链路。<br>此外，数据链路层还要协调收发双方的数据传输速率，即进行流量控制，以防止接收方因来不及处理发送方来的高速数据而导致缓冲器溢出及线路阻塞。<br>(3) 网络层 (Network Layer)<br>网络层是为传输层提供服务的，传送的协议数据单元称为数据包或分组。该层的主要作用是解决如何使数据包通过各结点传送的问题，即通过路径选择算法（路由）将数据包送到目的地。另外，为避免通信子网中出现过多的数据包而造成网络阻塞，需要对流入的数据包数量进行控制（拥塞控制）。当数据包要跨越多个通信子网才能到达目的地时，还要解决网际互连的问题。<br>(4) 传输层 (Transport Layer)<br>传输层的作用是为上层协议提供端到端的可靠和透明的数据传输服务，包括处理差错控制和流量控制等问题。该层向高层屏蔽了下层数据通信的细节，使高层用户看到的只是在两个传输实体间的一条主机到主机的、可由用户控制和设定的、可靠的数据通路。<br>传输层传送的协议数据单元称为段或报文。<br>(5) 会话层 (Session Layer)<br>会话层主要功能是管理和协调不同主机上各种进程之间的通信（对话），即负责建立、管理和终止应用程序之间的会话。会话层得名的原因是它很类似于两个实体间的会话概念。例如，一个交互的用户会话以登录到计算机开始，以注销结束。<br>(6) 表示层 (Presentation Layer)<br>表示层处理流经结点的数据编码的表示方式问题，以保证一个系统应用层发出的信息可被另一系统的应用层读出。如果必要，该层可提供一种标准表示形式，用于将计算机内部的多种数据表示格式转换成网络通信中采用的标准表示形式。数据压缩和加密也是表示层可提供的转换功能之一。<br>(7) 应用层 (Application Layer)<br>应用层是 OSI 参考模型的最高层，是用户与网络的接口。该层通过应用程序来完成网络用户的应用需求，如文件传输、收发电子邮件等。</p>
<p>数据封装过程：<br>每层封装后的数据单元的叫法不同，在应用层、表示层、会话层的协议数据单元统称为data（数据），在传输层协议数据单元称为segment（数据段），在网络层称为packet（数据包），数据链路层协议数据单元称为frame（数据帧），在物理层叫做bits（比特流）。<br>当数据到达接收端时，每一层读取相应的控制信息根据控制信息中的内容向上层传递数据单元，在向上层传递之前去掉本层的控制头部信息和尾部信息（如果有的话）。此过程叫做解封装。<br>这个过程逐层执行直至将对端应用层产生的数据发送给本端的相应的应用进程。<br>以用户浏览网站为例说明数据的封装、解封装过程。<br>当用户输入要浏览的网站信息后就由应用层产生相关的数据，通过表示层转换成为计算机可识别的ASCII码，再由会话层产生相应的主机进程传给传输层。传输层将以上信息作为数据并加上相应的端口号信息以便目的主机辨别此报文，得知具体应由本机的哪个任务来处理；在网络层加上IP地址使报文能确认应到达具体某个主机，再在数据链路层加上MAC地址，转成bit流信息，从而在网络上传输。报文在网络上被各主机接收，通过检查报文的目的MAC地址判断是否是自己需要处理的报文，如果发现MAC地址与自己不一致，则丢弃该报文，一致就去掉MAC信息送给网络层判断其IP地址；然后根据报文的目的端口号确定是由本机的哪个进程来处理，这就是报文的解封装过程。<br>7 应用层：老板<br>6 表示层：相当于公司中演示稿老板、替老板写信的助理工作比喻<br>5 会话层：相当于公司中收寄信、写信封与拆信封的秘书<br>4 传输层：相当于公司中跑邮局的送信职员<br>3 网络层：相当于邮局中的排序工人<br>2 数据链路层：相当于邮局中的装拆箱工人<br>1 物理层：相当于邮局中的搬运工人<br>OSI是一个定义良好的协议规范集，并有许多可选部分完成类似的任务。<br>它定义了开放系统的层次结构、层次之间的相互关系以及各层所包括的可能的任务。是作为一个框架来协调和组织各层所提供的服务。<br>OSI参考模型并没有提供一个可以实现的方法，而是描述了一些概念，用来协调进程间通信标准的制定。 即OSI参考模型并不是一个标准，而是一个在制定标准时所使用的概念性框架。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/19/process-and-thread/" itemprop="url">
                  线程和进程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-19T11:04:56+08:00" content="2016-12-19">
              2016-12-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/19/process-and-thread/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/19/process-and-thread/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天碰到了进程和线程的概念，以前有点分不清，现在在这里强化一下。</p>
<p>1，进程：子进程是父进程的复制品。子进程获得父进程数据空间、堆和栈的复制品。</p>
<p>2，线程：相对与进程而言，线程是一个更加接近与执行体的概念，它可以与同进程的其他线程共享数据，但拥有自己的栈空间，拥有独立的执行序列。 </p>
<p>两者都可以提高程序的并发度，提高程序运行效率和响应时间。 </p>
<p>线程和进程在使用上各有优缺点：线程执行开销小，但不利于资源管理和保护；而进程正相反。同时，线程适合于在SMP机器上运行，而进程则可以跨机器迁移。<br>根本区别就一点：用多进程每个进程有自己的地址空间(address space)，线程则共享地址空间。所有其它区别都是由此而来的： </p>
<p>1、速度：线程产生的速度快，线程间的通讯快、切换快等，因为他们在同一个地址空间内。 </p>
<p>2、资源利用率：线程的资源利用率比较好也是因为他们在同一个地址空间内。 </p>
<p>3、同步问题：线程使用公共变量/内存时需要使用同步机制还是因为他们在同一个地址空间内</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/16/Solution160/" itemprop="url">
                  Intersection of Two Linked Lists
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-16T15:34:16+08:00" content="2016-12-16">
              2016-12-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/16/Solution160/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/16/Solution160/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h4><p>Write a program to find the node at which the intersection of two singly linked lists begins.<br>For example, the following two linked lists:<br><img src="/Img/Solution160.png" width="500" height="500" ;=""><br>begin to intersect at node c1.</p>
<p>Notes:<br>1.If the two linked lists have no intersection at all, return null.<br>2.The linked lists must retain their original structure after the function returns.<br>3.You may assume there are no cycles anywhere in the entire linked structure.<br>4.Your code should preferably run in O(n) time and use only O(1) memory.</p>
<h4 id="Thoughts"><a href="#Thoughts" class="headerlink" title="Thoughts"></a>Thoughts</h4><p>遇到这个题目，大家可能都会想到：在第一链表上顺序遍历每个结点，每遍历到一个结点的时候，在第二个链表上的结点顺序遍历每个结点。很显然这种方法的时间复杂度很高，如果第一个链表的长度为m,第二个链表的长度为n，那么该方法的时间复杂度为O(mn)。</p>
<p>为了对时间复杂度进行优化，有如下3种方法：</p>
<p>方法一：<br>由于两个链表的长度有可能不一样，所以从链表表头开始，不一定会同时遍历到公共结点。但是从链<br>表尾部开始，肯定会同时到达第一个公共结点，考虑到这种后进先出的特性，我们使用两个堆栈来分<br>别存放两个链表中的每个结点，同时从栈中压出栈顶元素，同时用一个ListNode保存前一个栈里弹出<br>的结点，直到压出的元素不等，此时保存下来的就是我们要找的第一个公共结点。此方法的时间复杂<br>度为O(m+n),但是会使用到两个堆栈，空间复杂度也为O(m+n)。</p>
<p>方法二：<br>其实堆栈的作用就是为了同时遍历到达第一个公共结点，为了节省空间，我们可以用如下方法来达到<br>同样的目的：我们首先遍历两个链表得到链表的长度分别为lenA和lenB，将将较长的链表走先走两者<br>长度之差，然后同时遍历，这样就可以保证同时达到第一个公共结点的目的。</p>
<p>方法三：<br>其实第三种方法是最精妙的，不得不服啊，网友的力量果然强大，我在逛LeetCode讨论区的时候不经<br>意发现了这个强大的方法。该方法不需要获得两个链表的长度，需要定义两个指针listA和listB，如<br>果两个链表长度相等，直接遍历第一遍就可以找出第一个公共结点，如果长度不等，当两个指针遍历<br>到最后一个结点时，将指针只想另外一个头部，这样经过两轮遍历，两个指针到达第一个公共结点的<br>距离相同，即在第二轮中一定会同时到达第一公共结点。（Ps：这个方法太巧妙了！！！）</p>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><pre><code>/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */
//方法一：
    public static ListNode getIntersectionNode1(ListNode headA, ListNode headB){
         ListNode temp=null;
         if(headA==null||headB==null) return temp;
         Stack&lt;ListNode&gt; sA=new Stack&lt;&gt;();
         Stack&lt;ListNode&gt; sB=new Stack&lt;&gt;();

         while(headA!=null){
                sA.push(headA);
                headA=headA.next;
            }
         while(headB!=null){
                sB.push(headB);
                headB=headB.next;
            }
         while(!sA.isEmpty()&amp;&amp;!sB.isEmpty()&amp;&amp;sA.peek()==sB.peek()){
                temp=sA.pop();
                sB.pop();
            }
         return temp;
    }
    //方法二：
    public static ListNode getIntersectionNode2(ListNode headA, ListNode headB){
        int lenA=getLength(headA);
        int lenB=getLength(headB);
        while(lenA&gt;lenB){
            headA=headA.next;
            lenA--;
        }
        while(lenA&lt;lenB){
            headB=headB.next;
            lenB--;
        }
        while(headA!=headB){
            headA=headA.next;
            headB=headB.next;
        }
        return headA;
    }
    public static int getLength(ListNode head){
        int len=0;
        while(head!=null){
            len++;
            head=head.next;
        }
        return len;
    }
    //方法三：
    public static ListNode getIntersectionNode3(ListNode headA, ListNode headB){
        if(headA==null||headB==null) return null;
        ListNode listA=headA;
        ListNode listB=headB;
        while(listA!=listB){
            listA=listA==null?headB:listA.next;
            listB=listB==null?headA:listB.next;
        }
        return listA;
    }
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/15/Solution20/" itemprop="url">
                  Valid Parentheses
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-15T20:36:44+08:00" content="2016-12-15">
              2016-12-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/15/Solution20/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/15/Solution20/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h4><p>Given a string containing just the characters ‘(‘, ‘)’, ‘{‘, ‘}’, ‘[‘ and ‘]’, determine if the input string is valid.</p>
<p>The brackets must close in the correct order, “()” and “()[]{}” are all valid but “(]” and “([)]” are not.<br>好啦，题目意思很好理解，LeetCode里面的题目有些真的很难理解啊！<br>本题目就是说，三种括号配对的问题，每个左括号必须有对应的右括号，满足条件就返回true，否则就返回false咯！</p>
<h4 id="Thoughts"><a href="#Thoughts" class="headerlink" title="Thoughts"></a>Thoughts</h4><p>其实做这个题目想了半天，各种情况都想过，但是找不到完美的解决办法，最后看了下提示，用堆栈做这个题就很容易了，<br>先把左括号全部压栈，然后遇到对应的右括号判断栈顶元素是否为对应的左括号，如果不是直接返回false，如果是就压出栈顶元素，继续前面的步骤，<br>直到把字符串的所有字符遍历，如果前面都匹配上了，即前面没有返回false，最后判断栈是否为空，如果为空，返回true，如果不为空，返回false。</p>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><pre><code>public class Solution {
    public boolean isValid(String s) {
       //用堆栈解决此问题
        Stack&lt;Character&gt; ss=new Stack&lt;Character&gt;();
        for(int i=0;i&lt;s.length();i++){
            if(s.charAt(i)==&apos;(&apos;||s.charAt(i)==&apos;{&apos;||s.charAt(i)==&apos;[&apos;){
                ss.push(s.charAt(i));
            }else if(s.charAt(i)==&apos;)&apos;&amp;&amp;!ss.isEmpty()&amp;&amp;ss.peek()==&apos;(&apos;){
                ss.pop();
            }else if(s.charAt(i)==&apos;}&apos;&amp;&amp;!ss.isEmpty()&amp;&amp;ss.peek()==&apos;{&apos;){
                ss.pop();
            }else if(s.charAt(i)==&apos;]&apos;&amp;&amp;!ss.isEmpty()&amp;&amp;ss.peek()==&apos;[&apos;){
                ss.pop();
            }else{
                    return false;
                }
            }
        return ss.isEmpty();
    }
}
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/13/Solution234/" itemprop="url">
                  Palindrome Linked List
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-13T19:13:54+08:00" content="2016-12-13">
              2016-12-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/13/Solution234/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/13/Solution234/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h4><p>Given a singly linked list, determine if it is a palindrome.</p>
<h4 id="Thoughts"><a href="#Thoughts" class="headerlink" title="Thoughts"></a>Thoughts</h4><p>This can be solved by reversing the 2nd half and compare the two halves. Let’s start with an example [1, 1, 2, 1].</p>
<p>In the beginning, set two pointers fast and slow starting at the head.<br>1 -&gt; 1 -&gt; 2 -&gt; 1 -&gt; null<br>sf<br>(1) Move: fast pointer goes to the end, and slow goes to the middle.<br>1 -&gt; 1 -&gt; 2 -&gt; 1 -&gt; null<br>　　　　s　　　　f<br>(2) Reverse: the right half is reversed, and slow pointer becomes the 2nd head.<br>1 -&gt; 1    null &lt;- 2 &lt;- 1<br>h　　　　　　　s<br>(3) Compare: run the two pointers head and slow together and compare.<br>1 -&gt; 1    null &lt;- 2 &lt;- 1<br>　　h　　　s</p>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><pre><code>/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) { val = x; }
 * }
 */
public class Solution {
    public boolean isPalindrome(ListNode head) {
        ListNode fast=head;
        ListNode slow=head;
        while(fast!=null&amp;&amp;fast.next!=null){
            fast=fast.next.next;
            slow=slow.next;
        }
        if(fast!=null){
            slow=slow.next;
        }
        slow=reverse(slow);
        fast=head;
        while(slow!=null){
            if(slow.val!=fast.val){
                return false;
            }
            slow=slow.next;
            fast=fast.next;
        }
        return true;
    }
    public static ListNode reverse(ListNode head){
        ListNode pre=null;
        while(head!=null){
            ListNode temp=head.next;
            head.next=pre;
            pre=head;
            head=temp;
        }
        return pre;
    }
}
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/13/database01/" itemprop="url">
                  SQL常用语句积累（转）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-13T11:02:41+08:00" content="2016-12-13">
              2016-12-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/DataBase/" itemprop="url" rel="index">
                    <span itemprop="name">DataBase</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/13/database01/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/13/database01/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>SQL 常用语句积累：<br>一、 SQL 基本语句<br>SQL 分类：<br>DDL —数据定义语言 (Create ， Alter ， Drop ， DECLARE)<br>DML —数据操纵语言 (Select ， Delete ， Update ， Insert)<br>DCL —数据控制语言 (GRANT ， REVOKE ， COMMIT ， ROLLBACK)</p>
<p>首先 , 简要介绍基础语句：<br>1 、说明：创建数据库<br>Create DATABASE database-name<br>2 、说明：删除数据库<br>drop database dbname<br>3 、说明：备份 sql server<br>—  创建 备份数据的  device<br>USE master<br>EXEC sp_addumpdevice ‘disk’, ‘testBack’, ‘c:\mssql7backup\MyNwind_1.dat’<br>—  开始 备份<br>BACKUP DATABASE pubs TO testBack<br>4 、说明：创建新表<br>create table tabname(col1 type1 [not null] [primary key],col2 type2 [not null],..)<br>根据已有的表创建新表：<br>A ： create table tab_new like tab_old ( 使用旧表创建新表 )<br>B ： create table tab_new as select col1,col2 …  from tab_old definition only<br>5 、说明：删除新表 drop table tabname<br>6 、说明：增加一个列<br>Alter table tabname add column col type<br>注：列增加后将不能删除。 DB2 中列加上后数据类型也不能改变，唯一能改变的是增加 varchar 类型的长度。<br>7 、说明：添加主键：  Alter table tabname add primary key(col)<br>说明：删除主键：  Alter table tabname drop primary key(col)<br>8 、说明：创建索引： create [unique] index idxname on tabname(col … .)<br>删除索引： drop index idxname<br>注：索引是不可更改的，想更改必须删除重新建。<br>9 、说明：创建视图： create view viewname as select statement<br>删除视图： drop view viewname<br>10 、说明：几个简单的基本的 sql 语句<br>选择： select <em> from table1 where  范围<br>插入： insert into table1(field1,field2) values(value1,value2)<br>删除： delete from table1 where  范围<br>更新： update table1 set field1=value1 where  范围<br>查找： select </em> from table1 where field1 like  ’ %value1% ’  —like 的语法很精妙，查资料 !<br>排序： select <em> from table1 order by field1,field2 [desc]<br>总数： select count </em> as totalcount from table1<br>求和： select sum(field1) as sumvalue from table1<br>平均： select avg(field1) as avgvalue from table1<br>最大： select max(field1) as maxvalue from table1<br>最小： select min(field1) as minvalue from table1<br>11 、说明：几个高级查询运算词<br>A ：  UNION  运算符<br>UNION  运算符通过组合其他两个结果表（例如  TABLE1  和  TABLE2 ）并消去表中任何重复行而派生出一个结果表。当  ALL  随  UNION  一起使用时（即  UNION ALL ），不消除重复行。两种情况下，派生表的每一行不是来自  TABLE1  就是来自  TABLE2 。<br>B ：  EXCEPT  运算符<br>EXCEPT  运算符通过包括所有在  TABLE1  中但不在  TABLE2  中的行并消除所有重复行而派生出一个结果表。当  ALL  随  EXCEPT  一起使用时 (EXCEPT ALL) ，不消除重复行。<br>C ：  INTERSECT  运算符<br>INTERSECT  运算符通过只包括  TABLE1  和  TABLE2  中都有的行并消除所有重复行而派生出一个结果表。当  ALL  随  INTERSECT  一起使用时 (INTERSECT ALL) ，不消除重复行。<br>注：使用运算词的几个查询结果行必须是一致的。<br>12 、说明：使用外连接<br>A 、 left outer join ：<br>左外连接（左连接）：结果集几包括连接表的匹配行，也包括左连接表的所有行。<br>SQL: select a.a, a.b, a.c, b.c, b.d, b.f from a LEFT OUT JOIN b ON a.a = b.c<br>B ： right outer join:<br>右外连接 ( 右连接 ) ：结果集既包括连接表的匹配连接行，也包括右连接表的所有行。<br>C ： full outer join ：<br>全外连接：不仅包括符号连接表的匹配行，还包括两个连接表中的所有记录。</p>
<p>二、 SQL 子查询语句<br>      1 、单行子查询<br>        select ename,deptno,sal<br>        from emp<br>        where deptno=(select deptno from dept where loc=’NEW YORK’) ；<br>     2 、多行子查询<br>        SELECT ename,job,sal<br>        FROM EMP<br>        WHERE deptno in ( SELECT deptno FROM dept WHERE dname LIKE ‘A%’) ；<br>     3 、多列子查询<br>        SELECT deptno,ename,job,sal<br>        FROM EMP<br>        WHERE (deptno,sal) IN (SELECT deptno,MAX(sal) FROM EMP GROUP BY deptno) ；<br>     4 、内联视图子查询<br>       (1)SELECT ename,job,sal,rownum<br>          FROM (SELECT ename,job,sal FROM EMP ORDER BY sal) ；<br>       (2)SELECT ename,job,sal,rownum<br>          FROM ( SELECT ename,job,sal FROM EMP ORDER BY sal)<br>          WHERE rownum&lt;=5 ；<br>     5 、在 HAVING 子句中使用子查询<br>        SELECT deptno,job,AVG(sal) FROM EMP GROUP BY deptno,job HAVING AVG(sal)&gt;(SELECT sal FROM EMP WHERE ename=’MARTIN’) ；<br>     6 、内连接   左连接   右连接举例；<br>     select sys_user.user_id ,sys_user.user_code  from  sys_user inner join XZFW_BANJIE onsys_user.user_id=XZFW_BANJIE.userid<br>    小例子：<br>     select top 10 <em> from sys_user  where user_code not in (select  user_code  from sys_user where user_code like ‘%yzj%’)<br>     select top 2 </em> from (select top 2 <em>  from td.users order by us_username desc) users order by us_username desc<br>     7 、删除约束语句：<br>     alter   table   dbo.XZFW_SYS_USER   drop   CONSTRAINT  FK1772E1891324F678<br>      8 、记录数查询<br>      select count(user_pass) from sys_user<br>      select count(</em>) from sys_user where user_code!=’admin’<br>      9 、在范围之间取值 ( between … and .. 用法 )<br>      select sys_user.user_id,sys_user.user_name,xzfw_shoujian.caseid from sys_user inner join xzfw_shoujian on sys_user.user_id=xzfw_shoujian.userid where user_id between 5 and 100<br>      或 select * from sys_user  where user_id<10 and="" user_id="">1<br>      10 、 三表查询实例：（三张表为： USER_DETAILS ， Subject ， Score ）<br>select USER_DETAILS.USER_NAME,Subject.SubjectName,Score.Score from USER_DETAILS inner join Scoreon USER_DETAILS.USER_ID=Score.USER_ID inner join Subject on Score.SubjectID=Subject.SubjectIDwhere USER_DETAILS.USER_ID=1<br>  常用查询举例：</10></p>
<p>select <em> from dbo.USER_DETAILS where USER_NAME=’Cheers Li’ and USER_POSITION=’SQE’<br>select </em> from dbo.USER_DEPT<br>select <em> from dbo.USER_DETAILS<br>select top 3</em> from dbo.USER_DETAILS inner join dbo.USER_DEPT onUSER_DETAILS.USER_DEPT_ID=dbo.USER_DEPT.USER_DEPT_ID<br>insert into dbo.USER_DEPT (USER_DEPT_ID,USER_DEPT_NAME)values(‘QE_01’,’Software quality engineer’)<br>update USER_DEPT set USER_DEPT_ID=’QE_02’ where USER_DEPT_NAME=’Quality Control’<br>delete from dbo.USER_DEPT where USER_DEPT_ID=’QE_01’<br>select dbo.USER_DETAILS.USER_NAME,dbo.USER_DETAILS.USER_AGE,dbo.USER_DEPT.USER_DEPT_NAME,USER_DEPT.USER_DEPT_ID fromdbo.USER_DETAILS right join dbo.USER_DEPT onUSER_DETAILS.USER_DEPT_ID=dbo.USER_DEPT.USER_DEPT_ID<br>select count(USER_NAME)from dbo.USER_DETAILS where USER_NAME=’Cheers Li’<br>alter table USER_DEPT add Testcolumn char<br>alter table USER_DEPT drop column Testcolumn<br>select top 3<em> from(select top 3</em> from dbo.USER_DETAILS where USER_DEPT_ID=’DEV_01’ order byUSER_AGE desc)aa order by USER_ID desc</p>
<p>select * from dbo.USER_DETAILS where USER_NAME=(select max(USER_NAME) fromdbo.USER_DETAILS)</p>
<p>三、补充常用语句。</p>
<ol>
<li>select employees.employee_id,employees.first_name,employees.last_name,salary*(1+0.1) new_salary from hr.employees;</li>
<li>select employee_id,first_name from hr.employees where first_name like ‘B%’;</li>
<li>select count(*) from hr.employees where first_name like ‘B%’;</li>
<li>select job_id,avg(salary),sum(salary),max(salary),count(*) from hr.employees group by job_id;</li>
</ol>
<p>其次，大家来看一些不错的 sql 语句<br>1 、说明：复制表 ( 只复制结构 , 源表名： a 新表名： b) (Access 可用 )<br>法一： select <em> into b from a where 1&lt;&gt;1<br>法二： select top 0 </em> into b from a</p>
<p>2 、说明：拷贝表 ( 拷贝数据 , 源表名： a 目标表名： b) (Access 可用 )<br>insert into b(a, b, c) select d,e,f from b;</p>
<p>3 、说明：跨数据库之间表的拷贝 ( 具体数据使用绝对路径 ) (Access 可用 )<br>insert into b(a, b, c) select d,e,f from b in ‘具体数据库’ where 条件<br>例子： ..from b in ‘“&amp;Server.MapPath(“.”)&amp;”\data.mdb” &amp;”‘ where..</p>
<p>4 、说明：子查询 ( 表名 1 ： a 表名 2 ： b)<br>select a,b,c from a where a IN (select d from b ) 或者 : select a,b,c from a where a IN (1,2,3)</p>
<p>5 、说明：显示文章、提交人和最后回复时间<br>select a.title,a.username,b.adddate from table a,(select max(adddate) adddate from table where table.title=a.title) b</p>
<p>6 、说明：外连接查询 ( 表名 1 ： a 表名 2 ： b)<br>select a.a, a.b, a.c, b.c, b.d, b.f from a LEFT OUT JOIN b ON a.a = b.c</p>
<p>7 、说明：在线视图查询 ( 表名 1 ： a )<br>select * from (Select a,b,c FROM a) T where t.a &gt; 1;</p>
<p>8 、说明： between 的用法 ,between 限制查询数据范围时包括了边界值 ,not between 不包括<br>select * from table1 where time between time1 and time2<br>select a,b,c, from table1 where a not between 数值 1 and 数值 2</p>
<p>9 、说明： in 的使用方法<br>select * from table1 where a [not] in ( ‘值 1 ’ , ’值 2 ’ , ’值 4 ’ , ’值 6 ’ )</p>
<p>10 、说明：两张关联表，删除主表中已经在副表中没有的信息<br>delete from table1 where not exists ( select * from table2 where table1.field1=table2.field1 )</p>
<p>11 、说明：四表联查问题：<br>select * from a left inner join b on a.a=b.b right inner join c on a.a=c.c inner join d on a.a=d.d where …..</p>
<p>12 、说明：日程安排提前五分钟提醒<br>SQL: select * from 日程安排 where datediff(‘minute’,f 开始时间 ,getdate())&gt;5</p>
<p>13 、说明：一条 sql 语句搞定数据库分页<br>select top 10 b.* from (select top 20 主键字段 , 排序字段 from 表名 order by 排序字段 desc) a, 表名 b where b. 主键字段 = a. 主键字段 order by a. 排序字段</p>
<p>14 、说明：前 10 条记录<br>select top 10 * form table1 where 范围</p>
<p>15 、说明：选择在每一组 b 值相同的数据中对应的 a 最大的记录的所有信息 ( 类似这样的用法可以用于论坛每月排行榜 , 每月热销产品分析 , 按科目成绩排名 , 等等 .)<br>select a,b,c from tablename ta where a=(select max(a) from tablename tb where tb.b=ta.b)</p>
<p>16 、说明：包括所有在 TableA 中但不在 TableB 和 TableC 中的行并消除所有重复行而派生出一个结果表<br>(select a from tableA ) except (select a from tableB) except (select a from tableC)</p>
<p>17 、说明：随机取出 10 条数据<br>select top 10 * from tablename order by newid()</p>
<p>18 、说明：随机选择记录<br>select newid()</p>
<p>19 、说明：删除重复记录<br>Delete from tablename where id not in (select max(id) from tablename group by col1,col2,…)</p>
<p>20 、说明：列出数据库里所有的表名<br>select name from sysobjects where type=’U’</p>
<p>21 、说明：列出表里的所有的<br>select name from syscolumns where id=object_id(‘TableName’)</p>
<p>22 、说明：列示 type 、 vender 、 pcs 字段，以 type 字段排列， case 可以方便地实现多重选择，类似 select 中的 case 。<br>select type,sum(case vender when ‘A’ then pcs else 0 end),sum(case vender when ‘C’ then pcs else 0 end),sum(case vender when ‘B’ then pcs else 0 end) FROM tablename group by type<br>显示结果：<br>type vender pcs<br>电脑 A 1<br>电脑 A 1<br>光盘 B 2<br>光盘 A 2<br>手机 B 3<br>手机 C 3</p>
<p>23 、说明：初始化表 table1<br>TRUNCATE TABLE table1</p>
<p>24 、说明：选择从 10 到 15 的记录<br>select top 5 <em> from (select top 15 </em> from table order by id asc) table_ 别名 order by id desc<br>数据库基本理论整理：<br>通俗地理解三个范式<br>通俗地理解三个范式，对于数据库设计大有好处。在数据库设计中，为了更好地应用三个范式，就必须通俗地理解三个范式 ( 通俗地理解是够用的理解，并不是最科学最准确的理解 ) ：<br>第一范式： 1NF 是对属性的原子性约束，要求属性具有原子性，不可再分解；<br>第二范式： 2NF 是对记录的惟一性约束，要求记录有惟一标识，即实体的惟一性；<br>第三范式： 3NF 是对字段冗余性的约束，即任何字段不能由其他字段派生出来，它要求字段没有冗余。<br>没有冗余的数据库设计可以做到。但是，没有冗余的数据库未必是最好的数据库，有时为了提高运行效率，就必须降低范式标准，适当保留冗余数据。具体做法是：在概念数据模型设计时遵守第三范式，降低范式标准的工作放到物理数据模型设计时考虑。降低范式就是增加字段，允许冗余。<br>        基本表及其字段之间的关系 , 应尽量满足第三范式。但是，满足第三范式的数据库设计，往往不是最好的设计。为了提高数据库的运行效率，常常需要降低范式标准：适当增加冗余，达到以空间换时间的目的。<br>〖例 2 〗：有一张存放商品的基本表，如表 1 所示。“金额”这个字段的存在，表明该表的设计不满足第三范式，因为“金额”可以由“单价”乘以“数量”得到，说明“金额”是冗余字段。但是，增加“金额”这个冗余字段，可以提高查询统计的速度，这就是以空间换时间的作法。<br>在 Rose 中，规定列有两种类型：数据列和计算列。“金额”这样的列被称为“计算列”，而“单价”和“数量”这样的列被称为“数据列”。<br>表 1 商品表的表结构<br>商品名称 商品型号 单价 数量 金额<br>电视机 29 吋 2500 40 100,000</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/01/Solution232/" itemprop="url">
                  Implement Queue using Stacks
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-01T18:57:06+08:00" content="2016-12-01">
              2016-12-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/01/Solution232/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/01/Solution232/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h4><p>Implement the following operations of a queue using stacks.</p>
<p>push(x) – Push element x to the back of queue.<br>pop() – Removes the element from in front of queue.<br>peek() – Get the front element.<br>empty() – Return whether the queue is empty.</p>
<p>Notes:<br>You must use only standard operations of a stack – which means only push to top, peek/pop from top, size, and is empty operations are valid.<br>Depending on your language, stack may not be supported natively. You may simulate a stack by using a list or deque (double-ended queue), as long as you use only standard operations of a stack.<br>You may assume that all operations are valid (for example, no pop or peek operations will be called on an empty queue).</p>
<h4 id="Thoughts"><a href="#Thoughts" class="headerlink" title="Thoughts"></a>Thoughts</h4><p>首先复习下pop和peek的区别和相同点：<br>相同点：大家都返回栈顶的值。<br>不同点：peek 不改变栈的值(不删除栈顶的值)，pop会把栈顶的值删除。</p>
<p>用栈来实现队列的push、pop、peek、empty，需要两个栈，分别设为input和output：<br>push：直接将变量push到栈input；<br>peek：将栈input中的变量pop出来，然后依次push进入另一个栈output，经过两个栈的作用，实现了先进先出的队列的功能，然后将output栈顶元素peek出来，返回栈顶元素的值；<br>pop：调用peek函数，然后将栈顶元素pop出来；<br>empty：分别检查input和output两个栈是否全为空。</p>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><pre><code>class MyQueue {
    // Push element x to the back of queue.
   Stack&lt;Integer&gt; input = new Stack();
    Stack&lt;Integer&gt; output = new Stack();
    public void push(int x){
        input.push(x);
    }
    public void pop(){
        peek();
        output.pop();
    }
    public int peek(){
        if(output.empty()){
            while(!input.empty()){
                output.push(input.pop());
            }
        }
        return output.peek();
    }
     public boolean empty(){
         return input.empty()&amp;&amp;output.empty();
     }
}
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/23/Solution66/" itemprop="url">
                  Plus One
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-11-23T12:44:58+08:00" content="2016-11-23">
              2016-11-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/23/Solution66/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/23/Solution66/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h4><p>Given a non-negative number represented as an array of digits, plus one to the number.</p>
<p>The digits are stored such that the most significant digit is at the head of the list.<br>开始着这简单的两句，没看懂题目需求到底是啥。。。<br>然后好好揣测了一下：简单点说就是用一个数组代表一个数字，然后这个加1，最后以数组的形式返回。</p>
<h4 id="Thoughts"><a href="#Thoughts" class="headerlink" title="Thoughts"></a>Thoughts</h4><p>此题考虑两种情况，从后往前判断数字属否小于9，如小于9，直接在最后一个元素上加一后返回即可，如等于9，<br>则需要从后往前遍历，原来等于9的位置置为0，如果全部为9，即最前面的一位为0，这时需要重新new一个数组，<br>长度为原先数组加一，除了第一位为1，其他位都为0；</p>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><pre><code>public static int[] plusOne(int[] digits){
        int len=digits.length;
        for(int i=len-1;i&gt;=0;i--){
            if(digits[i]&lt;9){
                digits[i]++;
                return digits;
            }
            digits[i]=0;
        }
        int[] newdigits=new int[len+1];
        newdigits[0]=1;
        return newdigits;
    }
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/17/Solution235/" itemprop="url">
                  Lowest common ancestor（最近公共祖先）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-11-17T16:08:24+08:00" content="2016-11-17">
              2016-11-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/17/Solution235/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/17/Solution235/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h4><p>Given a binary search tree (BST), find the lowest common ancestor (LCA) of two given nodes in the BST.</p>
<p>According to the definition of LCA on Wikipedia: “The lowest common ancestor is defined between two nodes v and w as the lowest node in T that has both v and w as descendants (where we allow a node to be a descendant of itself).<br><img src="/Img/Solution235.png" width="500" height="500" ;=""><br>For example, the lowest common ancestor (LCA) of nodes 2 and 8 is 6. Another example is LCA of nodes 2 and 4 is 2, since a node can be a descendant of itself according to the LCA definition.</p>
<h4 id="Thoughts"><a href="#Thoughts" class="headerlink" title="Thoughts"></a>Thoughts</h4><p>对于二叉搜索树：二叉查找树（Binary Search Tree），（又：二叉搜索树，二叉排序树）它或者是一棵空树，或者是具有下列性质的二叉树： 若它的左子树不空，则左子树上所有结点的值均小于它的根结点的值； 若它的右子树不空，则右子树上所有结点的值均大于它的根结点的值； 它的左、右子树也分别为二叉排序树。</p>
<p>主要分别三种：<br>1.如果子节点p和q分别位于root的左右两边，则root为Lowest common ancestor；<br>2.如果子节点p和q都位于root的左边，将root.left作为此时的根节点root，进行递归；<br>3.如果子节点p和q都位于root的右边，将root.left作为此时的根节点root，进行递归。</p>
<p>如果是二叉搜索数可以直接判断，子节点p和q在左子树或右子树；如果是普通的二叉树，则可以用如下函数来判断。</p>
<pre><code>public static boolean isChildNode(TreeNode root,TreeNode child){
        if(root==null) return false;
        if(root==child) return true;
        return isChildNode(root.left,child)||isChildNode(root.right,child);
    }
</code></pre><h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><pre><code>/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
public class Solution {
    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
        if(isChildNode(root.left,p)&amp;&amp;isChildNode(root.left,q)){
            return lowestCommonAncestor(root.left,p,q);
        }
        if(isChildNode(root.right,p)&amp;&amp;isChildNode(root.right,q)){
            return lowestCommonAncestor(root.right,p,q);
        }
        return root;
    }
    public static boolean isChildNode(TreeNode root,TreeNode child){
        if(root==null) return false;
        if(root==child) return true;
        return isChildNode(root.left,child)||isChildNode(root.right,child);
    }
}
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/16/Solution437/" itemprop="url">
                  Path Sum
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-11-16T20:57:04+08:00" content="2016-11-16">
              2016-11-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/16/Solution437/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/16/Solution437/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h4><p>You are given a binary tree in which each node contains an integer value.</p>
<p>Find the number of paths that sum to a given value.</p>
<p>The path does not need to start or end at the root or a leaf, but it must go downwards (traveling only from parent nodes to child nodes).</p>
<p>The tree has no more than 1,000 nodes and the values are in the range -1,000,000 to 1,000,000.</p>
<p>Example:</p>
<p>root = [10,5,-3,3,2,null,11,3,-2,null,1], sum = 8<br><img src="/Img/Solution437.png" width="500" height="500" ;=""></p>
<p>Return 3. The paths that sum to 8 are:</p>
<ol>
<li>5 -&gt; 3</li>
<li>5 -&gt; 2 -&gt; 1</li>
<li>-3 -&gt; 11</li>
</ol>
<h4 id="Thoughts"><a href="#Thoughts" class="headerlink" title="Thoughts"></a>Thoughts</h4><p>So the idea is similar as Two sum, using HashMap to store ( key : the prefix sum, value : how many ways get to this prefix sum) , and whenever reach a node, we check if prefix sum - target exists in hashmap or not, if it does, we added up the ways of prefix sum - target into res.<br>For instance : in one path we have 1,2,-1,-1,2, then the prefix sum will be: 1, 3, 2, 1, 3, let’s say we want to find target sum is 2, then we will have {2},{ 2, -1, -1, 2} ways.</p>
<p>I used global variable count, but obviously we can avoid global variable by passing the count from bottom up. The time complexity is O(n). This is my first post in discuss, open to any improvement or criticism. :)</p>
<h4 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h4><pre><code>package Algorithms;
import java.util.HashMap;
import java.util.Map;
public class Solution437 {
    public static int pathSum(TreeNode root, int sum){
        HashMap&lt;Integer,Integer&gt; map=new HashMap&lt;Integer,Integer&gt;();
        map.put(0, 1);
        helper(root,0,sum,map);
        return count;
    }
    static int count=0;
    public static void helper(TreeNode root,int sum,int target,HashMap&lt;Integer,Integer&gt; map){
        if(root==null) return;
        sum+=root.val;

        if(map.containsKey(sum-target)){
            count+=map.get(sum-target);
        }
        if(!map.containsKey(sum)){
            map.put(sum, 1);
        }else{
            map.put(sum, map.get(sum)+1);
        }
        helper(root.left,sum,target,map);
        helper(root.right,sum,target,map);
        map.put(sum, map.get(sum)-1);
    }
    public static void main(String[] args) {
        TreeNode t1=new TreeNode(10);
        TreeNode t2=new TreeNode(5);
        TreeNode t3=new TreeNode(-3);
        TreeNode t4=new TreeNode(3);
        TreeNode t5=new TreeNode(2);
        TreeNode t6=new TreeNode(11);
        TreeNode t7=new TreeNode(3);
        TreeNode t8=new TreeNode(-2);
        TreeNode t9=new TreeNode(1);
        t1.left=t2;
        t1.right=t3;
        t2.left=t4;
        t2.right=t5;
        t3.right=t6;
        t4.left=t7;
        t4.right=t8;
        t5.right=t9;
        System.out.println(pathSum(t1,8));
    }
}
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/fish.jpg"
               alt="Enthusiasm" />
          <p class="site-author-name" itemprop="name">Enthusiasm</p>
          <p class="site-description motion-element" itemprop="description">coder</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">21</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/enthusiasmer" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Enthusiasm</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.2"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"iissnan-notes"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

  


</body>
</html>
